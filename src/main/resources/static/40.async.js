(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[40],{Ax1h:function(e,t,a){"use strict";var n=a("xK3H"),l=a("3rQ3");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("g1BC");var d=n(a("RvKu")),i=n(a("dnxz"));a("fhlT");var r=n(a("kXZy"));a("79JM");var o=n(a("DmMy"));a("Lzml");var c=n(a("vpm+"));a("E2ON");var u=n(a("jjSt"));a("/MhY");var s=n(a("w0+5")),p=n(a("SeLb"));a("XFd2");var f=n(a("33fr")),m=n(a("Sx57")),y=n(a("4zp0")),g=n(a("iVWQ")),h=n(a("lF+r")),v=n(a("PApH")),C=n(a("8g53"));a("Q3sr");var E,w,k,S=n(a("9NP+")),b=l(a("zLBQ")),D=a("h/XY"),x=a("LneV"),P=n(a("zHco")),z=n(a("mECP")),I=S.default.Item,M=(E=(0,x.connect)(function(e){var t=e.dictionary,a=e.loading;return{dictionary:t,loading:a.effects["dictionary/fetch"],loading2:a.effects["dictionary/saveOrUpdate"],loading3:a.effects["dictionary/getAllTypes"],loading4:a.effects["dictionary/getById"]}}),w=S.default.create(),E(k=w(k=function(e){function t(){var e,a;(0,m.default)(this,t);for(var n=arguments.length,l=new Array(n),d=0;d<n;d++)l[d]=arguments[d];return a=(0,g.default)(this,(e=(0,h.default)(t)).call.apply(e,[this].concat(l))),a.state={visible:!1,currentPage:1,pageSize:20,keyword:"",type:""},a.loadData=function(e,t,n,l){var d=a.props.dispatch;d({type:"dictionary/fetch",payload:{page:e,size:t,keyword:l,type:n}})},a.reloadData=function(){var e=a.state,t=e.currentPage,n=e.pageSize,l=e.type,d=e.keyword;a.loadData(t,n,l,d)},a.showModal=function(){a.setState({visible:!0})},a.showEditModal=function(e){var t=a.props.dispatch;t({type:"dictionary/getById",payload:{uuid:e}})},a.handleCancel=function(){var e=a.props.dispatch;e({type:"dictionary/hideModel"}),a.setState({visible:!1})},a.handleDelete=function(e){var t=a.props.dispatch,n=a.state,l=n.currentPage,d=n.pageSize,i=n.type,r=n.keyword,o=(0,C.default)((0,C.default)(a));f.default.confirm({content:"\u786e\u8ba4\u8981\u5220\u9664\u5f53\u524d\u5b57\u5178\u5417\uff1f",okText:"\u786e\u8ba4",okType:"danger",cancelText:"\u53d6\u6d88",onOk:function(){new Promise(function(a){t({type:"dictionary/deleteById",payload:{resolve:a,uuid:e}})}).then(function(e){200===e.code&&(o.loadData(l,d,i,r),t({type:"dictionary/getAllTypes",payload:{}}))})},onCancel:function(){}})},a.handleSubmit=function(e){e.preventDefault();var t=a.props,n=t.dispatch,l=t.dictionary.current,d=void 0===l?{}:l,i=t.form,r=a.state,o=r.currentPage,c=r.pageSize,u=r.type,s=r.keyword,f=d?d.id:"",m=(0,C.default)((0,C.default)(a));i.validateFields(function(e,t){e||new Promise(function(e){n({type:"dictionary/saveOrUpdate",payload:(0,p.default)({resolve:e,id:f},t)})}).then(function(e){200===e.code&&(m.setState({visible:!1}),m.loadData(o,c,u,s),n({type:"dictionary/getAllTypes",payload:{}}))})})},a.handleChangePage=function(e){var t=a.state,n=t.pageSize,l=t.type,d=t.keyword;a.setState({currentPage:e}),that.loadData(e,n,l,d)},a.searchDictionary=function(e){var t=a.state,n=t.pageSize,l=t.type;a.setState({currentPage:1,keyword:e}),a.loadData(1,n,l,e)},a.handleChangeType=function(e){var t=a.state,n=t.pageSize,l=t.keyword;a.setState({currentPage:1,type:e}),a.loadData(1,n,e,l)},a}return(0,v.default)(t,e),(0,y.default)(t,[{key:"componentDidMount",value:function(){var e=this.state,t=e.currentPage,a=e.pageSize,n=e.type,l=e.keyword,d=this.props.dispatch;this.loadData(t,a,n,l),d({type:"dictionary/getAllTypes",payload:{}})}},{key:"render",value:function(){var e=this,t=this.props,a=t.form.getFieldDecorator,n=t.dictionary,l=n.data,p=n.types,m=n.current,y=void 0===m?{}:m,g=n.visible2,h=t.loading,v=t.loading2,C=t.loading3,E=t.loading4,w=this.state.visible,k=function(e){var t=e.data,a=t.type,n=t.value;return b.default.createElement("div",{className:z.default.listContent},b.default.createElement("div",{className:z.default.listContentItem},b.default.createElement("span",null,"\u5b57\u5178\u503c"),b.default.createElement("p",null,n)),b.default.createElement("div",{className:z.default.listContentItem},b.default.createElement("span",null,"\u7c7b\u522b"),b.default.createElement("p",null,a)))},x=function(){return b.default.createElement(S.default,{onSubmit:e.handleSubmit},b.default.createElement(I,{labelCol:{span:5},wrapperCol:{span:15},label:"\u7c7b\u578b(\u4e1a\u52a1\u7f16\u7801)"},a("type",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6709\u6548\u7684\u5b57\u5178\u7c7b\u578b\u7f16\u7801,\u957f\u5ea6\u57282-60\u4e2a\u5b57\u7b26",min:2,max:60}],initialValue:y.type})(b.default.createElement(s.default,{placeholder:"\u8bf7\u8f93\u5165\u5b57\u5178\u7c7b\u578b\u7f16\u7801"}))),b.default.createElement(I,{labelCol:{span:5},wrapperCol:{span:15},label:"\u5b57\u5178\u9879\u540d\u79f0"},a("name",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6709\u6548\u7684\u5b57\u5178\u540d\u79f0,\u957f\u5ea6\u57282-36\u4e2a\u5b57\u7b26",min:2,max:36}],initialValue:y.name})(b.default.createElement(s.default,{placeholder:"\u8bf7\u8f93\u5165\u5b57\u5178\u540d\u79f0"}))),b.default.createElement(I,{labelCol:{span:5},wrapperCol:{span:15},label:"\u5b57\u5178\u9879\u503c"},a("value",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6709\u6548\u7684\u5b57\u5178\u503c,\u53ea\u80fd\u4e3a\u6570\u5b57",min:1,max:5}],initialValue:y.value})(b.default.createElement(s.default,{placeholder:"\u8bf7\u8f93\u5165\u5b57\u5178\u503c"}))),b.default.createElement(I,{labelCol:{span:5},wrapperCol:{span:15},label:"\u5b57\u5178\u63cf\u8ff0"},a("remarks",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5b57\u5178\u7c7b\u578b\u63cf\u8ff0",min:2,max:20}],initialValue:y.remarks})(b.default.createElement(s.default,{placeholder:"\u8bf7\u8f93\u5165\u5b57\u5178\u63cf\u8ff0"}))))},M=p.map(function(e){return b.default.createElement(u.default.Option,{key:e.key},e.name)}),T=b.default.createElement("div",{style:{textAlign:"center"}},b.default.createElement(u.default,{placeholder:"\u8bf7\u9009\u62e9\u4e00\u4e2a\u7c7b\u578b",defaultValue:"all",style:{width:140},onChange:this.handleChangeType},M),b.default.createElement(s.default.Search,{onSearch:this.searchDictionary,placeholder:"\u8bf7\u8f93\u5165\u5b57\u5178\u540d\u79f0\u67e5\u8be2",style:{width:300}})),L={okText:"\u4fdd\u5b58",onOk:this.handleSubmit,onCancel:this.handleCancel};return b.default.createElement(P.default,{title:"\u5b57\u5178\u5217\u8868",content:T},b.default.createElement("div",{className:z.default.standardList},b.default.createElement(r.default,{className:z.default.listCard,bordered:!1,style:{paddingTop:24},bodyStyle:{padding:"0 32px 40px 32px"}},b.default.createElement(c.default,{type:"dashed",style:{marginBottom:8},icon:"plus",onClick:this.showModal,ref:function(t){e.addBtn=(0,D.findDOMNode)(t)}},"\u6dfb\u52a0"),b.default.createElement(c.default,{type:"dashed",style:{marginBottom:8},icon:"reload",loading:h||C,onClick:this.reloadData},"\u5237\u65b0\u6570\u636e"),b.default.createElement(o.default,{size:"large",rowKey:"id",loading:h||C,dataSource:l.list||[],renderItem:function(t){return b.default.createElement(o.default.Item,{actions:[b.default.createElement(c.default,{size:"small",loading:E,icon:"edit",onClick:function(a){a.preventDefault(),e.showEditModal(t.id)}},"\u7f16\u8f91"),b.default.createElement(c.default,{size:"small",icon:"delete",type:"danger",onClick:function(a){a.preventDefault(),e.handleDelete(t.id)}},"\u5220\u9664")]},b.default.createElement(o.default.Item.Meta,{title:t.name,description:t.remarks}),b.default.createElement(k,{data:t}))}}))),b.default.createElement("div",{className:z.default.pagination},b.default.createElement(d.default,(0,i.default)({},l.pagination,{onChange:this.handleChangePage}))),b.default.createElement(f.default,(0,i.default)({title:"".concat(y&&y.id?"\u7f16\u8f91":"\u6dfb\u52a0","\u5b57\u5178"),width:640,bodyStyle:{padding:"28px 0 0"},destroyOnClose:!0,confirmLoading:v,visible:w||g},L),x()))}}]),t}(b.PureComponent))||k)||k),T=M;t.default=T},mECP:function(e,t,a){e.exports={standardList:"antd-pro\\pages\\-admin\\-dictionary-standardList",headerInfo:"antd-pro\\pages\\-admin\\-dictionary-headerInfo",listContent:"antd-pro\\pages\\-admin\\-dictionary-listContent",listContentItem:"antd-pro\\pages\\-admin\\-dictionary-listContentItem",extraContentSearch:"antd-pro\\pages\\-admin\\-dictionary-extraContentSearch",pagination:"antd-pro\\pages\\-admin\\-dictionary-pagination",listCard:"antd-pro\\pages\\-admin\\-dictionary-listCard",standardListForm:"antd-pro\\pages\\-admin\\-dictionary-standardListForm",formResult:"antd-pro\\pages\\-admin\\-dictionary-formResult"}}}]);