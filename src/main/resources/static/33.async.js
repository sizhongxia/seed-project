(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[33],{QFZ1:function(e,t,a){e.exports={tableList:"antd-pro\\pages\\-monitor-device\\-video-tableList",tableListOperator:"antd-pro\\pages\\-monitor-device\\-video-tableListOperator",antCascaderPicker:"antd-pro\\pages\\-monitor-device\\-video-antCascaderPicker",tableListForm:"antd-pro\\pages\\-monitor-device\\-video-tableListForm",submitButtons:"antd-pro\\pages\\-monitor-device\\-video-submitButtons"}},"g+IT":function(e,t,a){"use strict";var l=a("xK3H"),n=a("3rQ3");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("fhlT");var d=l(a("kXZy"));a("v0Pg");var r=l(a("Byrh"));a("1pPU");var o=l(a("KjZ1"));a("fThj");var u=l(a("cYEd"));a("VfWj");var i=l(a("Otdh"));a("Ktq0");var f=l(a("fL5V"));a("XFd2");var c=l(a("33fr")),s=l(a("SeLb"));a("/26P");var p=l(a("aYvq"));a("Lzml");var m=l(a("vpm+"));a("mKhK");var v=l(a("iW5v"));a("/MhY");var h=l(a("w0+5")),g=l(a("Sx57")),y=l(a("4zp0")),E=l(a("iVWQ")),b=l(a("lF+r")),w=l(a("PApH"));a("Q3sr");var k,S,C,L=l(a("9NP+")),z=n(a("zLBQ")),F=a("LneV"),R=l(a("D/dJ")),T=(a("HOty"),l(a("CkN6"))),x=l(a("zHco")),V=l(a("QFZ1")),P=L.default.Item,I=function(e){function t(){var e,a;(0,g.default)(this,t);for(var l=arguments.length,n=new Array(l),d=0;d<l;d++)n[d]=arguments[d];return a=(0,E.default)(this,(e=(0,b.default)(t)).call.apply(e,[this].concat(n))),a.handleFormReset=function(){var e=a.props.form;e.resetFields()},a.getItemsValue=function(){return a.props.form.getFieldsValue()},a}return(0,w.default)(t,e),(0,y.default)(t,[{key:"render",value:function(){var e=this.props,t=e.form.getFieldDecorator,a=e.handleSearch,l=e.loading;return z.default.createElement(L.default,{onSubmit:a,layout:"inline"},z.default.createElement(p.default,{gutter:{md:12,lg:24,xl:48}},z.default.createElement(v.default,{lg:8,md:12,sm:24},z.default.createElement(P,{label:"\u8bbe\u5907\u540d\u79f0"},t("name")(z.default.createElement(h.default,{placeholder:"\u8bf7\u8f93\u5165\u8bbe\u5907\u540d\u79f0"})))),z.default.createElement(v.default,{lg:8,md:12,sm:24},z.default.createElement(P,{label:"\u8bbe\u5907\u7f16\u7801"},t("equipmentNo")(z.default.createElement(h.default,{placeholder:"\u8bf7\u8f93\u5165\u8bbe\u5907\u7f16\u7801"})))),z.default.createElement(v.default,{lg:2,md:4,sm:24},z.default.createElement("span",{className:V.default.submitButtons},z.default.createElement(m.default,{type:"primary",className:V.default.searchSubmitBtn,htmlType:"submit",loading:l},"\u67e5\u8be2"),z.default.createElement(m.default,{style:{marginLeft:8},onClick:this.handleFormReset},"\u91cd\u7f6e")))))}}]),t}(z.default.Component),N=L.default.create()(I),M=(k=(0,F.connect)(function(e){var t=e.video,a=e.loading;return{video:t,loading:a.effects["video/fetch"]}}),S=L.default.create(),k(C=S(C=function(e){function t(){var e,a;(0,g.default)(this,t);for(var l=arguments.length,n=new Array(l),d=0;d<l;d++)n[d]=arguments[d];return a=(0,E.default)(this,(e=(0,b.default)(t)).call.apply(e,[this].concat(n))),a.state={selectedRows:[],formValues:{},scurrent:{},type:6,page:1,size:20},a.handleSearch=function(e){e.preventDefault();var t=a.props.dispatch,l=a.state,n=l.size,d=l.type,r=a.formRef.getItemsValue();a.setState({formValues:r,page:1});var o=(0,s.default)({page:1,type:d,size:n},r);t({type:"video/fetch",payload:o})},a.handleDelete=function(e){var t=a.props.dispatch,l=a.state,n=l.page,d=l.size,r=l.type,o=l.formValues;c.default.confirm({title:"\u786e\u8ba4\u8981\u5220\u9664\u9009\u62e9\u7684\u8bbe\u5907\u4fe1\u606f\u5417?",okText:"\u786e\u8ba4",okType:"danger",cancelText:"\u53d6\u6d88",onOk:function(){new Promise(function(a){t({type:"video/remove",payload:{resolve:a,id:e}})}).then(function(e){if(200===e.code){var a=(0,s.default)({page:n,type:r,size:d},o);t({type:"video/fetch",payload:a})}})}})},a.handleTableMenuClick=function(e){var t=a.state.selectedRows;t?f.default.warn("\u529f\u80fd\u5f00\u53d1\u4e2d..."):f.default.error("\u8bf7\u81f3\u5c11\u9009\u62e9\u4e00\u6761\u8bb0\u5f55")},a.handleTableSelectRows=function(e){a.setState({selectedRows:e})},a.handleTableChange=function(e){var t=a.props.dispatch,l=a.state.formValues,n=(0,s.default)({page:e.current,size:e.pageSize},l);a.setState({page:e.current,size:e.pageSize}),t({type:"video/fetch",payload:n})},a}return(0,w.default)(t,e),(0,y.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e({type:"video/fetch",payload:{type:6,page:1,size:20}})}},{key:"render",value:function(){var e=this,t=this.props,a=t.video.data,l=t.loading,n=this.state.selectedRows,f=z.default.createElement(i.default,{onClick:this.handleTableMenuClick,selectedKeys:["remove"]},z.default.createElement(i.default.Item,{key:"export"},"\u5bfc\u51fa")),c=[{title:"\u8bbe\u5907\u540d\u79f0",dataIndex:"name"},{title:"\u6240\u5728\u5de5\u5730",dataIndex:"proname"},{title:"\u8bbe\u5907\u7f16\u7801",dataIndex:"equipmentno"},{title:"\u6dfb\u52a0\u65f6\u95f4",dataIndex:"addtime"},{title:"\u64cd\u4f5c",render:function(t){return z.default.createElement(z.Fragment,null,z.default.createElement(R.default,{to:"/deviceMonitor/videoEdit/".concat(t.key)},"\u7f16\u8f91"),z.default.createElement(u.default,{type:"vertical"}),z.default.createElement("a",{style:{color:"#f5222d"},onClick:function(){return e.handleDelete(t.key)}},"\u5220\u9664"))}}];return z.default.createElement(x.default,null,z.default.createElement(d.default,{bordered:!1},z.default.createElement("div",{className:V.default.tableList},z.default.createElement("div",{className:V.default.tableListForm},z.default.createElement(N,{handleSearch:this.handleSearch,loading:l,wrappedComponentRef:function(t){return e.formRef=t}})),z.default.createElement("div",{className:V.default.tableListOperator},z.default.createElement(R.default,{to:"/deviceMonitor/videoCreate"},z.default.createElement(m.default,{type:"dashed",icon:"plus"},"\u65b0\u589e")),n.length>0&&z.default.createElement("span",null,z.default.createElement(r.default,{overlay:f},z.default.createElement(m.default,null," \u6279\u91cf\u64cd\u4f5c ",z.default.createElement(o.default,{type:"down"})," ")))),z.default.createElement(T.default,{selectedRows:n,loading:l,data:a,columns:c,onSelectRow:this.handleTableSelectRows,onChange:this.handleTableChange}))))}}]),t}(z.PureComponent))||C)||C),O=M;t.default=O}}]);