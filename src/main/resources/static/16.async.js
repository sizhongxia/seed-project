(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[16],{dYFj:function(e,t,a){"use strict";var l=a("xK3H"),r=a("3rQ3");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("fhlT");var n=l(a("kXZy"));a("Lzml");var u=l(a("vpm+"));a("/26P");var d=l(a("aYvq"));a("9TwZ");var f=l(a("wOVV"));a("cFNL");var c=l(a("gOg5"));a("XNft");var i=l(a("Hayk"));a("mKhK");var o=l(a("iW5v"));a("/MhY");var m=l(a("w0+5"));a("fThj");var s=l(a("cYEd"));a("1pPU");var p=l(a("KjZ1"));a("Ktq0");var h=l(a("fL5V"));a("XFd2");var E=l(a("33fr")),y=l(a("SeLb")),w=l(a("Sx57")),g=l(a("4zp0")),b=l(a("iVWQ")),v=l(a("lF+r")),k=l(a("PApH"));a("Q3sr");var V=l(a("9NP+"));a("E2ON");var O,L,I,C=l(a("jjSt")),S=r(a("zLBQ")),x=a("LneV"),j=l(a("I9Uw")),T=l(a("r27q")),Y=l(a("zHco")),q=C.default.Option,P=(O=(0,x.connect)(function(e){var t=e.projectcreate,a=e.loading;return{projectcreate:t,loading:a.effects["projectcreate/dictionaryList"],creating:a.effects["projectcreate/saveOrUpdate"]}}),L=V.default.create(),O(I=L(I=function(e){function t(){var e,a;(0,w.default)(this,t);for(var l=arguments.length,r=new Array(l),n=0;n<l;n++)r[n]=arguments[n];return a=(0,b.default)(this,(e=(0,v.default)(t)).call.apply(e,[this].concat(r))),a.state={uuid:""},a.handleSubmit=function(e){e.preventDefault();var t=a.state.uuid,l=a.props,r=l.dispatch,n=l.form;n.validateFieldsAndScroll(function(e,a){e||new Promise(function(e){r({type:"projectcreate/saveOrUpdate",payload:(0,y.default)({resolve:e,uuid:t},a)})}).then(function(e){200===e.code?E.default.confirm({content:"\u4fdd\u5b58\u6210\u529f, \u662f\u5426\u8df3\u8f6c\u81f3\u5de5\u5730\u9879\u76ee\u5217\u8868\u9875\uff1f",okText:"\u786e\u8ba4",okType:"danger",cancelText:"\u53d6\u6d88",onOk:function(){T.default.push("/construction/data")},onCancel:function(){t?r({type:"projectcreate/initProject",payload:{uuid:t}}):n.resetFields()}}):h.default.error(e.message)})})},a}return(0,k.default)(t,e),(0,g.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,a=e.match,l=a.params.proUuid;l?(this.setState({uuid:l}),new Promise(function(e){t({type:"projectcreate/initProject",payload:{resolve:e,uuid:l}})}).then(function(e){200!==e.code&&E.default.confirm({content:"\u65e0\u6548\u7684\u53c2\u6570",okText:"\u786e\u8ba4",okType:"danger",cancelText:"\u53d6\u6d88",onOk:function(){T.default.push("/construction/data")},onCancel:function(){T.default.push("/construction/data")}})})):t({type:"projectcreate/cleanCurrent",payload:{}}),t({type:"projectcreate/companyList",payload:{}}),t({type:"projectcreate/initArea"});for(var r=["proType","proConstructionNature","proMainStructureType","proFunction"],n=0;n<r.length;n++){var u=r[n];t({type:"projectcreate/dictionaryList",payload:{type:u}})}}},{key:"render",value:function(){var e=this.props,t=e.form.getFieldDecorator,a=e.projectcreate,l=a.companys,r=a.areas,h=a.types,E=a.constructionnatures,y=a.mainstructuretypes,w=a.functions,g=a.current,b=e.loading,v=e.creating,k=this.state.uuid,O=[],L=[],I=[],x=[],T=[],P=[];return l.map(function(e){switch(e.type){case 1:O.push(e);break;case 2:L.push(e);break;case 3:I.push(e);break;case 4:x.push(e);break;case 5:T.push(e);break;case 6:P.push(e);break}}),g.subcontractorcompany||(g.subcontractorcompany=[]),g.mainstructuretype||(g.mainstructuretype=[]),g.function||(g.function=[]),S.default.createElement(Y.default,null,S.default.createElement(n.default,{title:"".concat(""===k?"\u65b0\u589e":"\u4fee\u6539","\u5de5\u5730\u9879\u76ee"),bordered:!1,loading:b},S.default.createElement(V.default,{onSubmit:this.handleSubmit,layout:"vertical",hideRequiredMark:!1},S.default.createElement(s.default,{orientation:"left"},S.default.createElement(p.default,{type:"info-circle"})," \u57fa\u672c\u4fe1\u606f"),S.default.createElement(d.default,{gutter:24},S.default.createElement(o.default,{lg:6,md:12,sm:24},S.default.createElement(V.default.Item,{label:"\u9879\u76ee\u5168\u79f0"},t("proname",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9879\u76ee\u5168\u79f0"}],initialValue:g.proname})(S.default.createElement(m.default,{placeholder:"\u8bf7\u8f93\u5165\u9879\u76ee\u5168\u79f0"})))),S.default.createElement(o.default,{lg:6,md:12,sm:24},S.default.createElement(V.default.Item,{label:"\u9879\u76ee\u7b80\u79f0"},t("name",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9879\u76ee\u7b80\u79f0"}],initialValue:g.name})(S.default.createElement(m.default,{placeholder:"\u8bf7\u8f93\u5165\u9879\u76ee\u7b80\u79f0"})))),S.default.createElement(o.default,{lg:6,md:12,sm:24},S.default.createElement(V.default.Item,{label:"\u4eba\u5458\u6570\u636e\u7edf\u8ba1\u6765\u6e90"},t("personnelpositioning",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u4e00\u4e2a\u4eba\u5458\u6570\u636e\u7edf\u8ba1\u6765\u6e90"}],initialValue:g.personnelpositioning})(S.default.createElement(C.default,{style:{width:"100%"},showSearch:!0,placeholder:"\u8bf7\u9009\u62e9\u4eba\u5458\u6570\u636e\u7edf\u8ba1\u6765\u6e90",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},S.default.createElement(q,{value:"0"},"\u95f8\u673a"),S.default.createElement(q,{value:"1"},"\u4eba\u5458\u5b9a\u4f4d"))))),S.default.createElement(o.default,{lg:6,md:12,sm:24},S.default.createElement(V.default.Item,{label:"\u6240\u5c5e\u5355\u4f4d"},t("companyuuid",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6240\u5c5e\u5355\u4f4d"}],initialValue:g.companyuuid})(S.default.createElement(C.default,{style:{width:"100%"},showSearch:!0,placeholder:"\u8bf7\u9009\u62e9\u6240\u5c5e\u5355\u4f4d",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},l.map(function(e){return S.default.createElement(q,{key:e.key,value:e.key},e.name)}))))),S.default.createElement(o.default,{lg:6,md:12,sm:24},S.default.createElement(V.default.Item,{label:"\u5de5\u5730\u6240\u5c5e\u533a\u57df"},t("areainfo",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5de5\u5730\u6240\u5c5e\u533a\u57df"}],initialValue:g.areainfo})(S.default.createElement(i.default,{placeholder:"\u8bf7\u9009\u62e9\u5de5\u5730\u6240\u5c5e\u533a\u57df",options:r,changeOnSelect:!0})))),S.default.createElement(o.default,{lg:6,md:12,sm:24},S.default.createElement(V.default.Item,{label:"\u603b\u6295\u8d44\u989d(\u4e07\u5143)"},t("investment",{initialValue:g.investment})(S.default.createElement(c.default,{style:{width:"100%"},placeholder:"\u8bf7\u8f93\u5165\u603b\u6295\u8d44\u989d(\u4e07\u5143)"})))),S.default.createElement(o.default,{lg:6,md:12,sm:24},S.default.createElement(V.default.Item,{label:"\u5efa\u7b51\u9762\u79ef(\u33a1)"},t("measure",{initialValue:g.measure})(S.default.createElement(c.default,{style:{width:"100%"},placeholder:"\u8bf7\u8f93\u5165\u5efa\u7b51\u9762\u79ef(\u33a1)"})))),S.default.createElement(o.default,{lg:6,md:12,sm:24},S.default.createElement(V.default.Item,{label:"\u5efa\u7b51\u5c42\u6570"},t("numberoflayers",{initialValue:g.numberoflayers})(S.default.createElement(m.default,{placeholder:"\u8bf7\u8f93\u5165\u5efa\u7b51\u5c42\u6570"})))),S.default.createElement(o.default,{lg:6,md:12,sm:24},S.default.createElement(V.default.Item,{label:"\u5de5\u5730\u5bbd\u5ea6"},t("width",{initialValue:g.width})(S.default.createElement(c.default,{style:{width:"100%"},placeholder:"\u8bf7\u8f93\u5165\u5de5\u5730\u5bbd\u5ea6"})))),S.default.createElement(o.default,{lg:6,md:12,sm:24},S.default.createElement(V.default.Item,{label:"\u5de5\u5730\u957f\u5ea6"},t("length",{initialValue:g.length})(S.default.createElement(c.default,{style:{width:"100%"},placeholder:"\u8bf7\u8f93\u5165\u5de5\u5730\u957f\u5ea6"})))),S.default.createElement(o.default,{lg:6,md:12,sm:24},S.default.createElement(V.default.Item,{label:"\u8ba1\u5212\u5f00\u5de5\u65e5\u671f"},t("planstarttime",{initialValue:g.planstarttime&&(0,j.default)(g.planstarttime,"YYYY-MM-DD")})(S.default.createElement(f.default,{style:{width:"100%"},placeholder:"\u8bf7\u9009\u62e9\u8ba1\u5212\u5f00\u5de5\u65e5\u671f"})))),S.default.createElement(o.default,{lg:6,md:12,sm:24},S.default.createElement(V.default.Item,{label:"\u8ba1\u5212\u7ae3\u5de5\u65e5\u671f"},t("planendtime",{initialValue:g.planstarttime&&(0,j.default)(g.planendtime,"YYYY-MM-DD")})(S.default.createElement(f.default,{style:{width:"100%"},placeholder:"\u8bf7\u9009\u62e9\u8ba1\u5212\u7ae3\u5de5\u65e5\u671f"})))),S.default.createElement(o.default,{lg:6,md:12,sm:24},S.default.createElement(V.default.Item,{label:"\u4f4d\u7f6e\u7ecf\u5ea6"},t("longitude",{initialValue:g.longitude})(S.default.createElement(c.default,{style:{width:"100%"},placeholder:"\u8bf7\u8f93\u5165\u5de5\u5730\u4f4d\u7f6e\u7ecf\u5ea6"})))),S.default.createElement(o.default,{lg:6,md:12,sm:24},S.default.createElement(V.default.Item,{label:"\u4f4d\u7f6e\u7eac\u5ea6"},t("latitude",{initialValue:g.latitude})(S.default.createElement(c.default,{style:{width:"100%"},placeholder:"\u8bf7\u8f93\u5165\u5de5\u5730\u4f4d\u7f6e\u7eac\u5ea6"})))),S.default.createElement(o.default,{lg:6,md:12,sm:24},S.default.createElement(V.default.Item,{label:"\u5de5\u7a0b\u7c7b\u578b"},t("type",{initialValue:g.type})(S.default.createElement(C.default,{style:{width:"100%"},showSearch:!0,placeholder:"\u8bf7\u9009\u62e9\u5de5\u7a0b\u7c7b\u578b",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},h.map(function(e){return S.default.createElement(q,{key:e.key,value:e.key},e.name)}))))),S.default.createElement(o.default,{lg:6,md:12,sm:24},S.default.createElement(V.default.Item,{label:"\u5efa\u8bbe\u6027\u8d28"},t("constructionnature",{initialValue:g.constructionnature})(S.default.createElement(C.default,{style:{width:"100%"},showSearch:!0,placeholder:"\u8bf7\u9009\u62e9\u4e00\u4e2a\u5efa\u8bbe\u6027\u8d28",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},E.map(function(e){return S.default.createElement(q,{key:e.key,value:e.key},e.name)}))))),S.default.createElement(o.default,{lg:12,md:12,sm:24},S.default.createElement(V.default.Item,{label:"\u4e3b\u4f53\u7ed3\u6784\u7c7b\u578b"},t("mainstructuretype",{initialValue:g.mainstructuretype})(S.default.createElement(C.default,{mode:"multiple",style:{width:"100%"},showSearch:!0,placeholder:"\u8bf7\u9009\u62e9\u4e3b\u4f53\u7ed3\u6784\u7c7b\u578b(\u53ef\u591a\u9009)",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},y.map(function(e){return S.default.createElement(q,{key:e.key,value:e.key},e.name)}))))),S.default.createElement(o.default,{lg:12,md:12,sm:24},S.default.createElement(V.default.Item,{label:"\u9879\u76ee\u529f\u80fd"},t("function",{initialValue:g.function})(S.default.createElement(C.default,{mode:"multiple",style:{width:"100%"},showSearch:!0,placeholder:"\u8bf7\u9009\u62e9\u9879\u76ee\u529f\u80fd(\u53ef\u591a\u9009)",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},w.map(function(e){return S.default.createElement(q,{key:e.key,value:e.key},e.name)}))))),S.default.createElement(o.default,{lg:12,md:12,sm:24},S.default.createElement(V.default.Item,{label:"\u5206\u5305\u5355\u4f4d"},t("subcontractorcompany",{initialValue:g.subcontractorcompany})(S.default.createElement(C.default,{mode:"multiple",style:{width:"100%"},showSearch:!0,placeholder:"\u8bf7\u9009\u62e9\u5de5\u5730\u5206\u5305\u5355\u4f4d(\u53ef\u591a\u9009)",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},P.map(function(e){return S.default.createElement(q,{key:e.key,value:e.key},e.name)})))))),S.default.createElement(s.default,{orientation:"left"},S.default.createElement(p.default,{type:"deployment-unit"})," \u4e94\u65b9\u5355\u4f4d"),S.default.createElement(d.default,{gutter:24},S.default.createElement(o.default,{lg:6,md:12,sm:24},S.default.createElement(V.default.Item,{label:"\u65bd\u5de5\u5355\u4f4d"},t("construction",{initialValue:g.construction})(S.default.createElement(C.default,{style:{width:"100%"},showSearch:!0,placeholder:"\u8bf7\u9009\u62e9\u5de5\u5730\u65bd\u5de5\u5355\u4f4d",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},L.map(function(e){return S.default.createElement(q,{key:e.key,value:e.key},e.name)}))))),S.default.createElement(o.default,{lg:6,md:12,sm:24},S.default.createElement(V.default.Item,{label:"\u5efa\u8bbe\u5355\u4f4d"},t("building",{initialValue:g.building})(S.default.createElement(C.default,{style:{width:"100%"},showSearch:!0,placeholder:"\u8bf7\u9009\u62e9\u5de5\u5730\u5efa\u8bbe\u5355\u4f4d",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},O.map(function(e){return S.default.createElement(q,{key:e.key,value:e.key},e.name)}))))),S.default.createElement(o.default,{lg:6,md:12,sm:24},S.default.createElement(V.default.Item,{label:"\u8bbe\u8ba1\u5355\u4f4d"},t("design",{initialValue:g.design})(S.default.createElement(C.default,{style:{width:"100%"},showSearch:!0,placeholder:"\u8bf7\u9009\u62e9\u5de5\u5730\u8bbe\u8ba1\u5355\u4f4d",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},I.map(function(e){return S.default.createElement(q,{key:e.key,value:e.key},e.name)}))))),S.default.createElement(o.default,{lg:6,md:12,sm:24},S.default.createElement(V.default.Item,{label:"\u52d8\u6d4b\u5355\u4f4d"},t("survey",{initialValue:g.survey})(S.default.createElement(C.default,{style:{width:"100%"},showSearch:!0,placeholder:"\u8bf7\u9009\u62e9\u5de5\u5730\u52d8\u6d4b\u5355\u4f4d",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},T.map(function(e){return S.default.createElement(q,{key:e.key,value:e.key},e.name)}))))),S.default.createElement(o.default,{lg:6,md:12,sm:24},S.default.createElement(V.default.Item,{label:"\u76d1\u7ba1\u5355\u4f4d"},t("supervision",{initialValue:g.supervision})(S.default.createElement(C.default,{style:{width:"100%"},showSearch:!0,placeholder:"\u8bf7\u9009\u62e9\u5de5\u5730\u76d1\u7ba1\u5355\u4f4d",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},x.map(function(e){return S.default.createElement(q,{key:e.key,value:e.key},e.name)})))))),S.default.createElement(s.default,{orientation:"left"},S.default.createElement(p.default,{type:"share-alt"})," \u8054\u7cfb\u65b9\u5f0f"),S.default.createElement(d.default,{gutter:24},S.default.createElement(o.default,{lg:6,md:12,sm:24},S.default.createElement(V.default.Item,{label:"\u73b0\u573a\u8d1f\u8d23\u4eba"},t("personname",{initialValue:g.personname})(S.default.createElement(m.default,{placeholder:"\u8bf7\u8f93\u5165\u5de5\u5730\u73b0\u573a\u8d1f\u8d23\u4eba"})))),S.default.createElement(o.default,{lg:6,md:12,sm:24},S.default.createElement(V.default.Item,{label:"\u8d1f\u8d23\u4eba\u8054\u7cfb\u65b9\u5f0f"},t("phone",{initialValue:g.phone})(S.default.createElement(m.default,{placeholder:"\u8bf7\u8f93\u5165\u5de5\u5730\u73b0\u573a\u8d1f\u8d23\u4eba\u8054\u7cfb\u65b9\u5f0f"})))),S.default.createElement(o.default,{lg:6,md:12,sm:24},S.default.createElement(V.default.Item,{label:"\u9500\u552e\u4eba\u5458\u59d3\u540d"},t("salesname",{initialValue:g.salesname})(S.default.createElement(m.default,{placeholder:"\u8bf7\u8f93\u5165\u9500\u552e\u4eba\u5458\u59d3\u540d"})))),S.default.createElement(o.default,{lg:6,md:12,sm:24},S.default.createElement(V.default.Item,{label:"\u9500\u552e\u8054\u7cfb\u7535\u8bdd"},t("salesphone",{initialValue:g.salesphone})(S.default.createElement(m.default,{placeholder:"\u8bf7\u8f93\u5165\u9500\u552e\u8054\u7cfb\u7535\u8bdd"}))))),S.default.createElement(s.default,{orientation:"left"},S.default.createElement(p.default,{type:"user"})," \u8d26\u53f7\u4fe1\u606f"),S.default.createElement(d.default,{gutter:24},S.default.createElement(o.default,{lg:6,md:12,sm:24},S.default.createElement(V.default.Item,{label:"\u8d85\u7ba1\u8d26\u53f7"},t("username",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8d85\u7ba1\u8d26\u53f7"}],initialValue:g.username})(S.default.createElement(m.default,{disabled:""!==k,prefix:S.default.createElement(p.default,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\u8bf7\u8f93\u5165\u8d85\u7ba1\u8d26\u53f7"})))),S.default.createElement(o.default,{lg:6,md:12,sm:24},S.default.createElement(V.default.Item,{label:"\u8d85\u7ba1\u5bc6\u7801"},t("password",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8d85\u7ba1\u5bc6\u7801"}],initialValue:g.password})(S.default.createElement(m.default,{disabled:""!==k,prefix:S.default.createElement(p.default,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"\u8bf7\u8f93\u5165\u8d85\u7ba1\u5bc6\u7801"}))))),S.default.createElement(d.default,{gutter:24},S.default.createElement(o.default,{lg:24,md:24,sm:24,style:{textAlign:"center"}},S.default.createElement(u.default,{type:"primary",htmlType:"submit",loading:v},"".concat(""===k?"\u65b0\u589e":"\u4fee\u6539","\u5de5\u5730\u4fe1\u606f")))))))}}]),t}(S.PureComponent))||I)||I),M=P;t.default=M}}]);