(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[14],{hmaF:function(e,t,a){"use strict";var n=a("xK3H");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("SeLb")),u=n(a("fh3l")),s=a("Q2Py"),o=a("vo3B"),c=a("vm4F"),p=a("pwE5"),i=a("anxO"),l={namespace:"projectcreate",state:{companys:[],areas:[],types:[],constructionnatures:[],mainstructuretypes:[],functions:[],current:{}},effects:{saveOrUpdate:u.default.mark(function e(t,a){var n,r,s,c,p,l,d;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload,r=a.call,e.next=4,r(i.refreshToken);case 4:if(s=e.sent,s){e.next=7;break}return e.abrupt("return");case 7:if(c=n.resolve,p=n.uuid,!p){e.next=15;break}return e.next=11,r(o.update,n);case 11:l=e.sent,c&&c(l),e.next=19;break;case 15:return e.next=17,r(o.save,n);case 17:d=e.sent,c&&c(d);case 19:case"end":return e.stop()}},e,this)}),initProject:u.default.mark(function e(t,a){var n,r,s,c,p,l;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload,r=a.call,s=a.put,e.next=4,r(i.refreshToken);case 4:if(c=e.sent,c){e.next=7;break}return e.abrupt("return");case 7:return p=n.resolve,e.next=10,r(o.getProBaseInfoById,n);case 10:if(l=e.sent,200!==l.code){e.next=14;break}return e.next=14,s({type:"saveProjectBaseInfo",payload:l.data});case 14:p&&p(l);case 15:case"end":return e.stop()}},e,this)}),companyList:u.default.mark(function e(t,a){var n,r,o,c,p;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload,r=a.call,o=a.put,e.next=4,r(i.refreshToken);case 4:if(c=e.sent,c){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,r(s.getCompanyOptions,n);case 9:return p=e.sent,e.next=12,o({type:"saveCompanyOptions",payload:p.data});case 12:case"end":return e.stop()}},e,this)}),dictionaryList:u.default.mark(function e(t,a){var n,r,s,o;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload,r=a.call,s=a.put,e.next=4,r(p.getByType,n);case 4:return o=e.sent,o.type=n.type,e.next=8,s({type:"saveDictionaryOptions",payload:o});case 8:case"end":return e.stop()}},e,this)}),initArea:u.default.mark(function e(t,a){var n,r,s;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=a.call,r=a.put,e.next=3,n(c.getAreaLevelModels);case 3:return s=e.sent,e.next=6,r({type:"saveAreaLevel",payload:s.data});case 6:case"end":return e.stop()}},e,this)})},reducers:{saveCompanyOptions:function(e,t){return(0,r.default)({},e,{companys:t.payload})},saveProjectBaseInfo:function(e,t){return(0,r.default)({},e,{current:t.payload})},cleanCurrent:function(e){return(0,r.default)({},e,{current:{}})},showAreaNodeLoading:function(e,t){for(var a=e.areas,n=t.payload.code,u=a.length,s=0;s<u;s++){if(a[s].value===n){a[s].loading=!0;break}var o=a[s].children,c=0;o&&(c=o.length);for(var p=0;p<c;p++)o[p].value===n&&(a[s].children[p].loading=!0)}return(0,r.default)({},e,{areas:a})},saveAreaLevel:function(e,t){return(0,r.default)({},e,{areas:t.payload})},saveDictionaryOptions:function(e,t){return"proType"===t.payload.type?(0,r.default)({},e,{types:t.payload.data}):"proConstructionNature"===t.payload.type?(0,r.default)({},e,{constructionnatures:t.payload.data}):"proMainStructureType"===t.payload.type?(0,r.default)({},e,{mainstructuretypes:t.payload.data}):"proFunction"===t.payload.type?(0,r.default)({},e,{functions:t.payload.data}):(0,r.default)({},e)}}};t.default=l}}]);