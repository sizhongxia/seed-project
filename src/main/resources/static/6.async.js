(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{X2jq:function(e,t,r){"use strict";var a=r("xK3H");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r("SeLb")),u=a(r("fh3l"));r("Ktq0");var s=a(r("fL5V")),c=r("JBQd"),o=r("x8ga"),i=r("anxO"),d=r("vo3B"),f={namespace:"video",state:{data:{list:[],pagination:{}},projects:[],towercranes:[],current:{}},effects:{fetch:u.default.mark(function e(t,r){var a,n,o,d,f;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.payload,n=r.call,o=r.put,e.next=4,n(i.refreshToken);case 4:if(d=e.sent,d){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,n(c.deviceList,a);case 9:return f=e.sent,200!==f.code&&(s.default.error(f.message),f.data={list:[],pagination:{total:0}}),e.next=13,o({type:"saveState",payload:f.data});case 13:case"end":return e.stop()}},e,this)}),saveOrUpdate:u.default.mark(function e(t,r){var a,n,s,c,d,f,p;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.payload,n=r.call,e.next=4,n(i.refreshToken);case 4:if(s=e.sent,s){e.next=7;break}return e.abrupt("return");case 7:if(c=a.resolve,d=a.uuid,!d){e.next=15;break}return e.next=11,n(o.updateVideo,a);case 11:f=e.sent,c&&c(f),e.next=19;break;case 15:return e.next=17,n(o.saveVideo,a);case 17:p=e.sent,c&&c(p);case 19:case"end":return e.stop()}},e,this)}),getProjectTowercranes:u.default.mark(function e(t,r){var a,s,o,d,f,p;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.payload,s=r.call,o=r.put,e.next=4,s(i.refreshToken);case 4:if(d=e.sent,d){e.next=7;break}return e.abrupt("return");case 7:return f=a.resolve,e.next=10,s(c.getProjectDeviceOptions,(0,n.default)({},a,{deviceType:1}));case 10:return p=e.sent,e.next=13,o({type:"saveProjectTowercranes",payload:p.data});case 13:f&&f(p);case 14:case"end":return e.stop()}},e,this)}),initDevice:u.default.mark(function e(t,r){var a,n,s,c,d,f;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.payload,n=r.call,s=r.put,e.next=4,n(i.refreshToken);case 4:if(c=e.sent,c){e.next=7;break}return e.abrupt("return");case 7:return d=a.resolve,e.next=10,n(o.getDeviceBaseInfoById,a);case 10:if(f=e.sent,200!==f.code){e.next=14;break}return e.next=14,s({type:"saveDeviceBaseInfo",payload:f.data});case 14:d&&d(f);case 15:case"end":return e.stop()}},e,this)}),initProjectList:u.default.mark(function e(t,r){var a,n,s,c,o;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=r.call,n=r.put,e.next=3,a(i.refreshToken);case 3:if(s=e.sent,s){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,a(d.getProjectOptions,{type:8});case 8:return c=e.sent,o={projects:[]},200===c.code&&(o.projects=c.data),e.next=13,n({type:"saveProjectOptions",payload:o});case 13:case"end":return e.stop()}},e,this)}),remove:u.default.mark(function e(t,r){var a,n,c,d,f;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.payload,n=r.call,r.put,e.next=4,n(i.refreshToken);case 4:if(c=e.sent,c){e.next=7;break}return e.abrupt("return");case 7:if(d=a.resolve,!a.id){e.next=16;break}return a.uuid=a.id,e.next=12,n(o.deleteById,a);case 12:f=e.sent,200===f.code?(s.default.success("\u5220\u9664\u6210\u529f"),d&&d(f)):s.default.error(f.message),e.next=17;break;case 16:s.default.error("\u672a\u9009\u62e9\u6570\u636e");case 17:case"end":return e.stop()}},e,this)})},reducers:{saveState:function(e,t){return(0,n.default)({},e,{data:t.payload})},saveProjectOptions:function(e,t){return(0,n.default)({},e,{projects:t.payload.projects})},saveProjectTowercranes:function(e,t){return(0,n.default)({},e,{towercranes:t.payload})},cleanProjectTowercranes:function(e){return(0,n.default)({},e,{towercranes:[]})},saveDeviceBaseInfo:function(e,t){return(0,n.default)({},e,{current:t.payload})},cleanCurrent:function(e){return(0,n.default)({},e,{current:{}})}}};t.default=f},x8ga:function(e,t,r){"use strict";var a=r("xK3H");Object.defineProperty(t,"__esModule",{value:!0}),t.updateVideo=c,t.saveVideo=i,t.getDeviceBaseInfoById=f,t.deleteById=l;var n=a(r("fh3l")),u=a(r("Lnrk")),s=a(r("t3Un"));function c(e){return o.apply(this,arguments)}function o(){return o=(0,u.default)(n.default.mark(function e(t){return n.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.default)("/device/video/update",{method:"POST",body:t}));case 1:case"end":return e.stop()}},e,this)})),o.apply(this,arguments)}function i(e){return d.apply(this,arguments)}function d(){return d=(0,u.default)(n.default.mark(function e(t){return n.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.default)("/device/video/save",{method:"POST",body:t}));case 1:case"end":return e.stop()}},e,this)})),d.apply(this,arguments)}function f(e){return p.apply(this,arguments)}function p(){return p=(0,u.default)(n.default.mark(function e(t){return n.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.default)("/device/video/getById",{method:"POST",body:t}));case 1:case"end":return e.stop()}},e,this)})),p.apply(this,arguments)}function l(e){return v.apply(this,arguments)}function v(){return v=(0,u.default)(n.default.mark(function e(t){return n.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.default)("device/video/deleteById",{method:"POST",body:t}));case 1:case"end":return e.stop()}},e,this)})),v.apply(this,arguments)}}}]);